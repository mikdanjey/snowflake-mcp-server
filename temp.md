## 1. Project Overview

The application is a **web-based food recipe calculator** that allows users to:

- Create their own recipes.
- View recipes created by others.
- Dynamically scale ingredient quantities based on the number of servings.

The tech stack:

- **Frontend**: Next.js (Pages Router), JavaScript
- **UI**: ShadCN UI, Tailwind CSS
- **Backend**: https://json.weblover.fun/recipes

---

## 2. Objectives

1. Allow users to create, read, update, and delete recipes (CRUD).
2. Enable dynamic scaling of ingredients based on a base plate quantity and target plate quantity.
3. Provide a public recipe listing for all users.
4. Keep the system simple — no login, no images.

---

## 3. Key Features

### 3.1 Recipe Creation

- Form to input:
  - Recipe name (required)
  - Base servings (required, number)
  - Created by (optional, text)
  - Ingredients (required, dynamic rows):
    - Ingredient name (required)
    - Quantity (required, numeric)
    - Unit (required, text)

  - Notes or cooking tips (optional, text)

- Dynamic ingredient row handling:
  - Add row button
  - Remove row button

- Form validation to ensure all required fields are filled.

---

### 3.2 Recipe Viewing

- Publicly accessible recipe detail page.
- Displays:
  - Recipe name
  - Base servings
  - Created by
  - Ingredient list (per base plate)
  - Notes (if provided)

- Scaling calculator:
  - Input field for **base servings** (default: recipe base)
  - Input field for **target servings**
  - Auto-calculates scaled quantities for each ingredient.
  - Shows totals by unit.
  - Button to copy scaled ingredient list to clipboard.

---

### 3.3 Recipe Listing

- Homepage listing all recipes.
- Search functionality (by recipe name).
- Each recipe card shows:
  - Recipe name
  - Base servings
  - Created by

- Clickable link to view recipe details.

---

### 3.4 Recipe Editing

- Edit page reuses the same form as creation.
- Fields pre-filled with recipe data.
- Users can update:
  - Name
  - Base servings
  - Creator name
  - Ingredients
  - Notes

---

### 3.5 Recipe Deletion

- Delete button on recipe detail page.
- Confirmation prompt before deletion.
- Redirects to recipe list after deletion.

---

## 4. Data Model

**Recipe**

- `id` (number, auto-generated by JSON-Server)
- `name` (string, required)
- `baseServings` (number, required)
- `createdBy` (string, optional)
- `createdAt` (ISO date string)
- `notes` (string, optional)
- `ingredients` (react-hook-form nested form of ingredient objects)

**Ingredient**

- `id` (string, UUID for frontend purposes)
- `name` (string, required)
- `qty` (number, required)
- `unit` (string, required)

---

## 5. Scaling Logic

- Formula:

  ```
  scaledQty = baseQty × (targetServings / baseServings)
  ```

- Automatically recalculated when either `baseServings` or `targetServings` changes.
- Display result rounded to 2 decimal places.
- Aggregate totals grouped by unit for quick purchasing reference.

---

## 6. User Flow

1. **View all recipes** on homepage.
2. **Search** for a recipe by name.
3. **Click** on a recipe card to open the detail page.
4. **Scale** ingredients by adjusting target servings.
5. **Create** a new recipe using the “New Recipe” button on the homepage.
6. **Edit** a recipe via the “Edit” button on its detail page.
7. **Delete** a recipe via the “Delete” button on its detail page.

---

## 7. Non-Functional Requirements

- **Performance**: Fast load times with local JSON-Server data.
- **Responsiveness**: Mobile, tablet, and desktop layouts supported.
- **Accessibility**: ShadCN UI components to follow accessible patterns.
- **Maintainability**: Code should be modular, with reusable components for form, ingredient rows, and recipe lists.

---

## 8. Future Enhancements (Optional)

- Costing: Add price per unit to ingredients and calculate total cost.
- Unit conversion: Auto-convert g→kg or ml→L.
- Favorites: Allow marking recipes as favorites (local storage).
- Categories/tags: Organize recipes by cuisine or type.
